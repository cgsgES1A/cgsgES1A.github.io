<html>





<head>

    <title>Calendar</title>





    <script type="text/javascript">

        var current_datetime = new Date();

        var day = current_datetime.getDate();

        var month = current_datetime.getMonth();

        var year = current_datetime.getFullYear();

        var day_week = current_datetime.getDay() == 0 ? 7 : current_datetime.getDay();

        var Shift = [6, 9, 2, 5, 7, 3, 5, 8, 4, 6, 9, 4];

        var NumOfDays = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];

        var first_day;

        var first_day_year;

        var days = 0;
        var years = 0;

        function set() {
            for (var i = 0; i < 28; i++) {
                document.getElementById(`${i + first_day}`).innerHTML = i + 1;
            }

            if (NumOfDays[month] > 28) {
                document.getElementById(`${28 + first_day}`).innerHTML = 29;

                if (NumOfDays[month] > 29) {

                    document.getElementById(`${29 + first_day}`).innerHTML = 30;

                    if (NumOfDays[month] == 31)

                        document.getElementById(`${30 + first_day}`).innerHTML = 31;

                }

            }

        }

        function reset() {

            for (var i = 0; i < 42; i++) {
                document.getElementById(`${i + 1}`).innerHTML = "";
                document.getElementById(`${i + 1}`).style = "background-color:Lavender";
            }

            if (month == current_datetime.getMonth() && year == current_datetime.getFullYear())
                document.getElementById(`${day + first_day - 1}`).style = "background-color:MediumPurple";

        }


        function update_month() {

            data = document.getElementById('input_month').value;

            month = parseInt(data) - 1;

            if (isNaN(month))

                month = current_datetime.getMonth();

            first_day = (first_day_year + Shift[month] + 1) % 7;

            if (first_day == 0)

                first_day = 7;

            reset();
            set();

        }

        function update_year() {
            data = document.getElementById('input_year').value;

            oldyear = year;

            year = parseInt(data);

            if (isNaN(year))

                year = current_datetime.getFullYear();

            for (var i = 0; i < Math.abs(oldyear - year); i++) {

                if ((Math.min(oldyear, year) + i) % 4 == 0 && (Math.min(oldyear, year) + i) % 100 != 0)

                    years += 366;

                else

                    years += 365;

            }

            first_day_year -= years % 7;

            if (first_day_year <= 0)

                first_day_year += 7;

            first_day = (first_day_year + Shift[1] + 1) % 7;

            if (first_day == 0)

                first_day = 7;

            reset();
            set();

        }



        function previous() {

            month--;

            first_day = (first_day_year + Shift[month] + 1) % 7;
            if (first_day == 0)

                first_day = 7;

            document.getElementById('input_month').value = month + 1;

            reset();
            set();

        }

        function next() {

            month++;

            first_day = (first_day_year + Shift[month] + 1) % 7;

            if (first_day == 0)

                first_day = 7;

            document.getElementById('input_month').value = month + 1;

            reset();
            set();

        }


        function init() {

            if (year % 4 == 0 && year % 100 != 0)

                NumOfDays[1] = 29;

            document.getElementById('input_month').value = month + 1;

            document.getElementById('input_year').value = year;

            first_day = day_week - (day - 1) % 7;
            if (first_day < 0)
                first_day += 7;

            for (var i = 0; i < month; i++)
                days += NumOfDays[i];

            first_day_year = first_day - days % 7;

            if (first_day_year < 0)

                first_day_year += 7;

            reset();
            set();

            /* Temporaty version (uncorrect work with using while or for) */

        }
    </script>

</head>





<body onload="init();">

    <label for="input_month"> month</label> <input type="text" id="input_month" onkeyup="update_month()"
        style="background-color:Lavender">

    <br>

    <label for="input_year"> yeaaar</label> <input type="text" id="input_year" onkeyup="update_year()"
        style="background-color:Lavender">

    <br><br>





    <button onclick="previous();">
        < </button>

            <button onclick="next();"> > </button>





            <table border="2" bgcolor="Lavender">

                <tr>

                    <td id="1"></td>

                    <td id="2"></td>

                    <td id="3"></td>

                    <td id="4"></td>

                    <td id="5"></td>

                    <td id="6"></td>

                    <td id="7"></td>

                </tr>

                <tr>

                    <td id="8"></td>

                    <td id="9"></td>

                    <td id="10"></td>

                    <td id="11"></td>

                    <td id="12"></td>

                    <td id="13"></td>

                    <td id="14"></td>

                </tr>

                <tr>

                    <td id="15"></td>

                    <td id="16"></td>

                    <td id="17"></td>

                    <td id="18"></td>

                    <td id="19"></td>

                    <td id="20"></td>

                    <td id="21"></td>

                </tr>

                <tr>

                    <td id="22"></td>

                    <td id="23"></td>

                    <td id="24"></td>

                    <td id="25"></td>

                    <td id="26"></td>

                    <td id="27"></td>

                    <td id="28"></td>

                </tr>

                <tr>

                    <td id="29"></td>

                    <td id="30"></td>

                    <td id="31"></td>

                    <td id="32"></td>

                    <td id="33"></td>

                    <td id="34"></td>

                    <td id="35"></td>

                </tr>

                <tr>





                    <td id="36"></td>

                    <td id="37"></td>

                    <td id="38"></td>

                    <td id="39"></td>

                    <td id="40"></td>

                    <td id="41"></td>

                    <td id="42"></td>

                </tr>

            </table>

</body>





</html>